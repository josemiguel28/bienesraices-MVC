<?phpnamespace Controllers;use Model\ActiveRecord;use Model\Propiedad;use Model\Vendedor;use MVC\Router;class VendedorController{    public static function crear(Router $router)    {        $vendedor = new Vendedor();        if ($_SERVER["REQUEST_METHOD"] == "POST") {            //obtiene los datos del POST            $args = $_POST['vendedor'];            //pasa los datos del POST a la clase            $vendedor = new Vendedor($args);            $errores = $vendedor->validar();            //si no hay errores guarda en la db            if (empty($errores)) {                $vendedor->crear();            }        }        $router->render("vendedores/crear",            ["vendedor" => $vendedor,                "errores" => $vendedor::getErrores()]);    }    public static function actualizar(Router $router)    {        $id = validarORedireccionar("/admin");        $vendedor = Vendedor::find($id);        if ($_SERVER['REQUEST_METHOD'] == "POST") {            $args = $_POST["vendedor"];            $vendedor->sincronizar($args);            $errores = $vendedor->validar();            if (empty($errores)) {                $vendedor->guardar();            }        }        $router->render("vendedores/actualizar",            ["vendedor" => $vendedor,                "errores" => $vendedor::getErrores()]);    }    public static function eliminar()    {        //eliminar una propiedad        if ($_SERVER['REQUEST_METHOD'] === 'POST') {            $id = $_POST['id'];            $id = filter_var($id, FILTER_VALIDATE_INT);            //valida el tipo a eliminar (propiedad o vendedor)            if (validarTipoContenido($_POST['tipo'])) {                switch ($_POST['tipo']) {                    case 'vendedor':                        $vendedor = Vendedor::find($id);                        $propiedades = Propiedad::getAll();                        //valida si un vendedor esta asignado en una propiedad                        $isVendorAssociated = validarVendedorAsociado($vendedor->id, ["propiedades" => $propiedades]);                        //si la propiedad existe en la bd, elimina la propiedad de la bd                        if ($vendedor && !$isVendorAssociated) {                            $vendedor->eliminarUnRegistro($id);                        } else {                            header("Location: /admin?resultado=4");                        }                        break;                    default:                        debuguear("error");                }            }        }    }    public static function mostrarVendedor(Router $router): void    {        $idVendedor = validarORedireccionar("/admin");        $vendedor = Vendedor::find($idVendedor);        $propiedadAsociada = Propiedad::findPropertyByVendor($idVendedor);                $isReadOnly = true;                $router->render("vendedores/mostrar",            [                "vendedor" => $vendedor,                "propiedades" => $propiedadAsociada,                "readonly" => $isReadOnly            ]);    }}